"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8218],{61443:(b,m,n)=>{var t,d,r;n.d(m,{ez:()=>r,tP:()=>t}),(d=t||(t={})).Documents="DOCUMENTS",d.Data="DATA",d.Library="LIBRARY",d.Cache="CACHE",d.External="EXTERNAL",d.ExternalStorage="EXTERNAL_STORAGE",function(d){d.UTF8="utf8",d.ASCII="ascii",d.UTF16="utf16"}(r||(r={}))},81067:(b,m,n)=>{n.d(m,{fy:()=>o,tP:()=>r.tP});var t=n(47423),r=n(61443);const o=(0,t.fo)("Filesystem",{web:()=>n.e(6364).then(n.bind(n,96364)).then(g=>new g.FilesystemWeb)})},48218:(b,m,n)=>{n.r(m),n.d(m,{HomePageModule:()=>R});var t=n(97582),r=n(98274),o=n(36895),g=n(24006),d=n(48058),M=n(92216),O=n(83111),I=n(35593),v=n(12453),f=n(21327),h=n(91795),e=n(1997),i=n(24382),p=n(52054),l=n(39528),c=n(15861);var N=n(50727),A=n(26388),B=n(81067),U=n(59136),K=n(89535),W=n(80529),P=n(99038);let z=class{constructor(s){this.http=s}listSelf(){return this.http.get(`${P.Hz.baseURL}/notificacoes`,{responseType:"json"})}listByUser(s){return this.http.get(`${P.Hz.baseURL}/notificacoes/${s}`,{responseType:"json"})}markAsReadById(s){return this.http.patch(`${P.Hz.baseURL}/notificacoes/${s}/read`,{responseType:"json"})}markAsUnreadById(s){return this.http.patch(`${P.Hz.baseURL}/notificacoes/${s}/unread`,{responseType:"json"})}};z.ctorParameters=()=>[{type:W.eN}],z=(0,t.gn)([(0,r.GSi)({providedIn:"root"})],z);var F=n(34758),E=n(24658);var H=n(59256),w=n(45088),G=n(9683),V=n(5292),$=n(18109),Q=n(40363);let y=class{constructor(s,a,u,S,T,D,q,ee,te,ne){this.route=s,this.storage=a,this.usersService=u,this.notificacaoService=S,this.toastService=T,this.modal=D,this.preferencesService=q,this.emailService=ee,this.alertController=te,this.platform=ne,this.notificacoes=[],this.condominioId=V.Fj,this.subscriptions=new N.w0}ngOnInit(){this.itemsNotificacao=[{label:"Op\xe7\xf5es",items:[{label:"Atualizar",icon:"pi pi-fw pi-refresh",command:()=>{this.loadNotificacoes()}}]}],this.itemsUsers=[{label:"Op\xe7\xf5es",items:[{label:"Atualizar",icon:"pi pi-fw pi-refresh",command:()=>{this.loadColaboradores()}}]}],this.user=this.storage.getCompleteLocalUser(),this.loadColaboradores(),this.loadNotificacoes(),this.loadMoradores()}ngOnDestroy(){this.subscriptions.unsubscribe()}ionViewDidEnter(){var s=this;return(0,c.Z)(function*(){const a=s.platform.platforms();(a.includes("android")||a.includes("ios"))&&(yield s.requestCameraPermission(),yield s.requestFilePermission())})()}loadNotificacoes(){const s=this.notificacaoService.listSelf().subscribe(a=>{this.notificacoes=a});this.subscriptions.add(s)}loadColaboradores(s=1){const a=this.usersService.listUsers({condominio_id:this.condominioId},{order:U.L.ASC,page:s,take:10}).subscribe(u=>{u.data=u.data.filter(S=>S.id!==this.user.id),this.colaboradores=u});this.subscriptions.add(a)}paginarColaborador(s){const a=s.page+1;this.loadColaboradores(a)}loadMoradores(s=1){const a=this.usersService.listUsers({condominio_id:this.condominioId,tipo_usuario:$.X.USUARIO},{order:U.L.ASC,page:s,take:10}).subscribe(u=>{u.data=u.data.filter(S=>S.id!==this.user.id),this.moradores=u});this.subscriptions.add(a)}paginarMorador(s){const a=s.page+1;this.loadMoradores(a)}getNotificacaoIcon(s){return class j{static getIconByTipo(s){switch(s){case E.S.CARGA:return"pi pi-cloud-upload";case E.S.MENSAGEM_COMUM:return"pi pi-envelope";case E.S.MENSAGEM_PRIORITARIA:return"pi pi-info-circle";case E.S.MENSAGEM_PROGRAMADA:return"pi pi-directions";default:return"pi pi-comment"}}}.getIconByTipo(s.tipo)}getNotificacaoColor(s){switch(s){case E.c.AVISO:return"text-yellow-500";case E.c.ERRO:return"text-pink-500";case E.c.INFO:return"text-blue-500";case E.c.SUCESSO:return"text-green-500";default:return"text-blue-500"}}openPerfil(){this.showModal(w.E,{user:this.user,enableMessageAndNotification:!0})}openMembro(s){this.showModal(w.E,{user:s})}goToPDV(){this.route.navigateByUrl("pdv")}goToPrestacaoServico(){}goToAssinatura(){}goToSendEmail(s){this.emailService.addEmailToList(s.email);this.route.navigate(["/comunicacao-email"],{queryParams:{tab:"email-send"}})}getTheme(){const s=this.preferencesService.getThemePreference();return this.inAndOutDash.backgroundColor=this.preferencesService.surfaceBackground,"dark"==s?s:void 0}requestCameraPermission(){var s=this;return(0,c.Z)(function*(){try{const a=yield A.V1.checkPermissions();if(console.log(`Permiss\xf5es \xe0 c\xe2mera: ${a}`),"granted"!=a.camera||"granted"!=a.photos){const u=yield s.alertController.create({header:"Permiss\xf5es \xe0 c\xe2mera e galeria",message:"Necess\xe1rio para realizar opera\xe7\xf5es com anexo de encomendas",buttons:["OK"]});yield u.present(),yield u.onDidDismiss(),yield A.V1.requestPermissions({permissions:["camera","photos"]})}}catch(a){console.error("N\xe3o foi poss\xedvel pedir permiss\xe3o \xe0 c\xe2mera/fotos"),console.error(a)}})()}requestFilePermission(){var s=this;return(0,c.Z)(function*(){try{const a=yield B.fy.checkPermissions();if(console.log(`Permiss\xf5es \xe0 arquivos: ${a}`),"granted"!=a.publicStorage){const u=yield s.alertController.create({header:"Permiss\xf5es \xe0 arquivos",message:"Necess\xe1rio para poder salvar arquivos e comprovantes",buttons:["OK"],backdropDismiss:!1});yield u.present(),yield u.onDidDismiss(),yield B.fy.requestPermissions()}}catch(a){console.error("N\xe3o foi poss\xedvel pedir permiss\xe3o aos arquivos"),console.error(a)}})()}showModal(s,a){var u=this;return(0,c.Z)(function*(){const S=yield u.modal.create({component:s,backdropDismiss:!1,cssClass:"modal-size-100",componentProps:a});return S.onDidDismiss().then(T=>{const{data:D}=T;D&&(u.user=u.storage.getCompleteLocalUser())}),yield S.present()})()}};y.ctorParameters=()=>[{type:l.F0},{type:K.V},{type:F.K},{type:z},{type:H.D},{type:d.IN},{type:G.y},{type:Q.j},{type:d.Br},{type:d.t4}],y=(0,t.gn)([(0,r.wA2)({selector:"app-home",template:'<ion-header [translucent]="true">\n  <ion-toolbar>\n    <ion-buttons slot="start">\n      <ion-menu-button></ion-menu-button>\n    </ion-buttons>\n    <ion-title>Home</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content appScrollTheme>\n  <ng-container *ngIf="user && colaboradores && moradores">\n    <div class="flex flex-column flex-auto wall-background py-2 h-screen">\n      <div class="surface-section p-5">\n        <div (click)="openPerfil()" class="flex align-items-start flex-column lg:flex-row \n        lg:justify-content-between cursor-pointer">\n          <div class="flex align-items-start flex-column md:flex-row">\n            <img [src]="user.avatar_url" class="mr-5 mb-3 lg:mb-0 default-avatar border-1 border-primary" />\n            <div>\n              <span class="text-900 font-medium text-3xl">{{ user.nome }}</span>\n              <div class="flex align-items-center flex-wrap text-sm">\n                <div class="mr-5 mt-3">\n                  <span class="font-medium text-500">Condom\xednio</span>\n                  <div class="text-700 mt-2">{{ user.condominio?.nome || "Sem condom\xednio definida" }}</div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class="mt-3 lg:mt-0">\n            <span class="font-medium text-500">{{ user.perfil.nome }}</span>\n          </div>\n        </div>\n      </div>\n\n      <div class="p-5">\n        <div class="grid">\n          <ng-container *ngIf="simplesDash">\n\n            <div class="col-12 lg:col-4 xl:col-4">\n              <div class="surface-card shadow-2 p-3 border-1 border-50 border-round">\n                <div class="flex justify-content-between mb-3">\n                  <div>\n                    <span class="block text-500 font-medium mb-3">Chamados</span>\n                    <div class="text-900 font-medium text-xl">Total: 0</div>\n                  </div>\n                  <div class="flex align-items-center justify-content-center bg-blue-100 border-round cursor-pointer"\n                    style="width:2.5rem;height:2.5rem" (click)="goToPDV()">\n                    <i class="pi pi-shopping-cart text-blue-500 text-xl"></i>\n                  </div>\n                </div>\n                <span class="text-blue-500 font-medium">Quantidade: </span>\n                <span class="text-500">0</span>\n              </div>\n            </div>\n          </ng-container>\n\n\n          <div id="notificacoes" class="col-12 xl:col-4 md:col-6">\n            <div class="surface-card shadow-2 border-round p-4">\n              <div class="flex align-items-center justify-content-between mb-3">\n                <div class="text-900 font-medium text-xl">Notifica\xe7\xf5es</div>\n                <div>\n                  <button pButton pRipple icon="pi pi-ellipsis-v" class="p-button-text p-button-plain p-button-rounded"\n                    (click)="menu.toggle($event)"></button>\n                  <p-menu #menu [popup]="true" [model]="itemsNotificacao" appendTo="body"></p-menu>\n                </div>\n              </div>\n              <ng-container *ngIf="notificacoes">\n                <ul class="list-none p-0 m-0">\n                  <li *ngFor="let n of notificacoes"\n                    class="py-3 border-bottom-1 surface-border flex md:align-items-start md:justify-content-between flex-column md:flex-row">\n                    <div class="flex align-items-start mr-0 lg:mr-5">\n                      <button pButton pRipple type="button" [icon]="getNotificacaoIcon(n)"\n                        class="p-button-rounded p-button-secondary p-button-text mr-3 mt-4"></button>\n                      <div>\n                        <span class="text-900 font-medium block mb-2">{{ n.nome }}</span>\n                        <div class="text-700 mb-2"> {{ n.descricao }}</div>\n                        <a [ngClass]="{\n                          \'warning\' : \'text-yellow-500\', \n                        \'danger\' : \'text-pink-500\', \n                        \'info\' : \'text-blue-500\', \n                        \'success\' : \'text-green-500\'\n                      }[n.status]">\n                          <span>{{ n.status | convertStatus }}</span>\n                        </a>\n                      </div>\n                    </div>\n                    <span class="block text-500 font-medium ml-7 md:ml-5 mt-2 md:mt-0">{{ n.created_at | timeSince\n                      }}</span>\n                  </li>\n                </ul>\n              </ng-container>\n\n              <ng-container *ngIf="!notificacoes || notificacoes.length == 0">\n                <div class="border-circle border-1 border-primary">\n                  <app-attention-surface title="Aten\xe7\xe3o" subtitle="Vazio"\n                    message="Nenhuma notifica\xe7\xe3o encontrada"></app-attention-surface>\n                </div>\n              </ng-container>\n            </div>\n          </div>\n\n          <div id="colaboradores" class="col-12 xl:col-4 md:col-6">\n            <div class="surface-card shadow-2 border-round p-4">\n              <div class="flex justify-content-between align-items-center mb-5">\n                <span class="text-xl text-900 font-medium">Colaboradores do condom\xednio</span>\n                <div>\n                  <button pButton pRipple icon="pi pi-ellipsis-v" class="p-button-text p-button-plain p-button-rounded"\n                    (click)="colab.toggle($event)"></button>\n                  <p-menu #colab [popup]="true" [model]="itemsUsers" appendTo="body"></p-menu>\n                </div>\n              </div>\n              <ul class="list-none p-0 m-0">\n                <li *ngFor="let u of colaboradores.data;"\n                  class="flex flex-column md:flex-row md:align-items-center md:justify-content-between mb-4">\n                  <div class="flex">\n                    <div>\n                      <span class="block text-900 font-medium mb-1">{{ u.nome }}</span>\n                      <div class="text-600 text-xs">{{ u.perfil.nome }}</div>\n                    </div>\n                  </div>\n                  <div class="mt-2 md:mt-0 flex flex-nowrap">\n                    \x3c!--<button pButton pRipple class="p-button-text p-button-plain p-button-rounded mr-1"\n                      icon="pi pi-envelope" (click)="goToSendEmail(u)"></button>\n                    \n                      <button pButton pRipple class="p-button-text p-button-plain p-button-rounded mr-1"\n                      icon="pi pi-comment"></button>\n                    <button pButton pRipple class="p-button-text p-button-plain p-button-rounded mr-1"\n                      icon="pi pi-external-link" (click)="openMembro(u)"></button>\n                    --\x3e\n                  </div>\n                </li>\n              </ul>\n              <p-paginator [rows]="colaboradores.meta.take" [totalRecords]="colaboradores.meta.itemCount"\n                [pageLinkSize]="colaboradores.meta.pageCount" (onPageChange)="paginarColaborador($event)"></p-paginator>\n            </div>\n          </div>\n\n          <div id="moradores" class="col-12 xl:col-4 md:col-6">\n            <div class="surface-card shadow-2 border-round p-4">\n              <div class="flex justify-content-between align-items-center mb-5">\n                <span class="text-xl text-900 font-medium">Moradores do condom\xednio</span>\n                <div>\n                  <button pButton pRipple icon="pi pi-ellipsis-v" class="p-button-text p-button-plain p-button-rounded"\n                    (click)="mor.toggle($event)"></button>\n                  <p-menu #mor [popup]="true" [model]="itemsUsers" appendTo="body"></p-menu>\n                </div>\n              </div>\n              <ul class="list-none p-0 m-0">\n                <li *ngFor="let u of moradores.data;"\n                  class="flex flex-column md:flex-row md:align-items-center md:justify-content-between mb-4">\n                  <div class="flex">\n                    <div>\n                      <span class="block text-900 font-medium mb-1">{{ u.nome }}</span>\n                    </div>\n                  </div>\n                  <div class="mt-2 md:mt-0 flex flex-nowrap">\n\n                    \x3c!--\n                    <button pButton pRipple class="p-button-text p-button-plain p-button-rounded mr-1"\n                      icon="pi pi-envelope" (click)="goToSendEmail(u)"></button>\n                      <button pButton pRipple class="p-button-text p-button-plain p-button-rounded mr-1"\n                      icon="pi pi-comment"></button>\n                    <button pButton pRipple class="p-button-text p-button-plain p-button-rounded mr-1"\n                      icon="pi pi-external-link" (click)="openMembro(u)"></button>\n                    --\x3e\n                  </div>\n                </li>\n              </ul>\n              <p-paginator [rows]="moradores.meta.take" [totalRecords]="moradores.meta.itemCount"\n                [pageLinkSize]="moradores.meta.pageCount" (onPageChange)="paginarMorador($event)"></p-paginator>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </ng-container>\n</ion-content>',styles:["ion-button {\n  min-width: 260px !important;\n  max-width: 260px !important;\n  overflow-wrap: break-word;\n  word-break: break-all;\n}"]})],y);const J=[{path:"",component:y}];let L=class{};L=(0,t.gn)([(0,r.LVF)({imports:[l.Bz.forChild(J)],exports:[l.Bz]})],L);var Z=n(85226),k=n(58949),Y=n(33909),X=n(91670);let R=class{};R=(0,t.gn)([(0,r.LVF)({imports:[o.ez,g.u5,d.Pc,I.hJ,h.T,v.EV,f.$9,e.U,i.S,M.uH,O.t,p.Ns.forRoot({echarts:()=>n.e(7581).then(n.bind(n,77581))}),L,Z.o,k.d,Y.L,X.A],declarations:[y]})],R)},18109:(b,m,n)=>{var t,o,r;n.d(m,{J:()=>r,X:()=>t}),(o=t||(t={})).FUNCIONARIO="FUNCIONARIO",o.CLIENTE="CLIENTE",o.USUARIO="USUARIO",function(o){o.INQUILINO="INQUILINO",o.PREPONENTE1="PREPONENTE1",o.PREPONENTE2="PREPONENTE2",o.PREPONENTE3="PREPONENTE3",o.REPASSE="REPASSE"}(r||(r={}))},83111:(b,m,n)=>{n.d(m,{t:()=>f});var t=n(98274),r=n(36895),o=n(19592),g=n(10805);const d=["container"];function M(h,e){1&h&&t.GkF(0)}function O(h,e){if(1&h){const i=t.EpF();t.TgZ(0,"div",5),t.NdJ("mousedown",function(l){t.CHM(i);const c=t.oxw().index,_=t.oxw();return t.KtG(_.onGutterMouseDown(l,c))})("touchstart",function(l){t.CHM(i);const c=t.oxw().index,_=t.oxw();return t.KtG(_.onGutterTouchStart(l,c))}),t._UZ(1,"div",6),t.qZA()}if(2&h){const i=t.oxw(2);t.Q6J("ngStyle",i.gutterStyle())}}function I(h,e){if(1&h&&(t.TgZ(0,"div",0),t.YNc(1,M,1,0,"ng-container",3),t.qZA(),t.YNc(2,O,2,1,"div",4)),2&h){const i=e.$implicit,p=e.index,l=t.oxw();t.Tol(l.panelStyleClass),t.Q6J("ngClass",l.panelContainerClass())("ngStyle",l.panelStyle),t.xp6(1),t.Q6J("ngTemplateOutlet",i),t.xp6(1),t.Q6J("ngIf",p!==l.panels.length-1)}}class v{constructor(e,i){this.cd=e,this.el=i,this.stateStorage="session",this.stateKey=null,this.layout="horizontal",this.gutterSize=4,this.minSizes=[],this.onResizeEnd=new t.vpe,this.onResizeStart=new t.vpe,this.nested=!1,this.panels=[],this.dragging=!1,this.mouseMoveListener=null,this.mouseUpListener=null,this.touchMoveListener=null,this.touchEndListener=null,this.size=null,this.gutterElement=null,this.startPos=null,this.prevPanelElement=null,this.nextPanelElement=null,this.nextPanelSize=null,this.prevPanelSize=null,this._panelSizes=[],this.prevPanelIndex=null}get panelSizes(){return this._panelSizes}set panelSizes(e){if(this._panelSizes=e,this.el&&this.el.nativeElement&&this.panels.length>0){let i=[...this.el.nativeElement.children[0].children].filter(l=>o.p.hasClass(l,"p-splitter-panel")),p=[];this.panels.map((l,c)=>{let x=(this.panelSizes.length-1>=c?this.panelSizes[c]:null)||100/this.panels.length;p[c]=x,i[c].style.flexBasis="calc("+x+"% - "+(this.panels.length-1)*this.gutterSize+"px)"})}}ngOnInit(){this.nested=this.isNested()}ngAfterContentInit(){this.templates.forEach(e=>{e.getType(),this.panels.push(e.template)})}ngAfterViewInit(){if(this.panels&&this.panels.length){let e=!1;if(this.isStateful()&&(e=this.restoreState()),!e){let i=[...this.el.nativeElement.children[0].children].filter(l=>o.p.hasClass(l,"p-splitter-panel")),p=[];this.panels.map((l,c)=>{let x=(this.panelSizes.length-1>=c?this.panelSizes[c]:null)||100/this.panels.length;p[c]=x,i[c].style.flexBasis="calc("+x+"% - "+(this.panels.length-1)*this.gutterSize+"px)"}),this._panelSizes=p}}}resizeStart(e,i){this.gutterElement=e.currentTarget,this.size=this.horizontal()?o.p.getWidth(this.containerViewChild.nativeElement):o.p.getHeight(this.containerViewChild.nativeElement),this.dragging=!0,this.startPos=this.horizontal()?e.pageX||e.changedTouches[0].pageX:e.pageY||e.changedTouches[0].pageY,this.prevPanelElement=this.gutterElement.previousElementSibling,this.nextPanelElement=this.gutterElement.nextElementSibling,this.prevPanelSize=100*(this.horizontal()?o.p.getOuterWidth(this.prevPanelElement,!0):o.p.getOuterHeight(this.prevPanelElement,!0))/this.size,this.nextPanelSize=100*(this.horizontal()?o.p.getOuterWidth(this.nextPanelElement,!0):o.p.getOuterHeight(this.nextPanelElement,!0))/this.size,this.prevPanelIndex=i,o.p.addClass(this.gutterElement,"p-splitter-gutter-resizing"),o.p.addClass(this.containerViewChild.nativeElement,"p-splitter-resizing"),this.onResizeStart.emit({originalEvent:e,sizes:this._panelSizes})}onResize(e){let i;i=this.horizontal()?100*e.pageX/this.size-100*this.startPos/this.size:100*e.pageY/this.size-100*this.startPos/this.size;let p=this.prevPanelSize+i,l=this.nextPanelSize-i;this.validateResize(p,l)&&(this.prevPanelElement.style.flexBasis="calc("+p+"% - "+(this.panels.length-1)*this.gutterSize+"px)",this.nextPanelElement.style.flexBasis="calc("+l+"% - "+(this.panels.length-1)*this.gutterSize+"px)",this._panelSizes[this.prevPanelIndex]=p,this._panelSizes[this.prevPanelIndex+1]=l)}resizeEnd(e){this.isStateful()&&this.saveState(),this.onResizeEnd.emit({originalEvent:e,sizes:this._panelSizes}),o.p.removeClass(this.gutterElement,"p-splitter-gutter-resizing"),o.p.removeClass(this.containerViewChild.nativeElement,"p-splitter-resizing"),this.clear()}onGutterMouseDown(e,i){this.resizeStart(e,i),this.bindMouseListeners()}onGutterTouchStart(e,i){e.cancelable&&(this.resizeStart(e,i),this.bindTouchListeners(),e.preventDefault())}onGutterTouchEnd(e){this.resizeEnd(e),this.unbindTouchListeners(),e.cancelable&&e.preventDefault()}validateResize(e,i){return!(this.minSizes.length>=1&&this.minSizes[0]&&this.minSizes[0]>e||this.minSizes.length>1&&this.minSizes[1]&&this.minSizes[1]>i)}bindMouseListeners(){this.mouseMoveListener||(this.mouseMoveListener=e=>this.onResize(e),document.addEventListener("mousemove",this.mouseMoveListener)),this.mouseUpListener||(this.mouseUpListener=e=>{this.resizeEnd(e),this.unbindMouseListeners()},document.addEventListener("mouseup",this.mouseUpListener))}bindTouchListeners(){this.touchMoveListener||(this.touchMoveListener=e=>this.onResize(e.changedTouches[0]),document.addEventListener("touchmove",this.touchMoveListener)),this.touchEndListener||(this.touchEndListener=e=>{this.resizeEnd(e),this.unbindTouchListeners()},document.addEventListener("touchend",this.touchEndListener))}unbindMouseListeners(){this.mouseMoveListener&&(document.removeEventListener("mousemove",this.mouseMoveListener),this.mouseMoveListener=null),this.mouseUpListener&&(document.removeEventListener("mouseup",this.mouseUpListener),this.mouseUpListener=null)}unbindTouchListeners(){this.touchMoveListener&&(document.removeEventListener("touchmove",this.touchMoveListener),this.touchMoveListener=null),this.touchEndListener&&(document.removeEventListener("touchend",this.touchEndListener),this.touchEndListener=null)}clear(){this.dragging=!1,this.size=null,this.startPos=null,this.prevPanelElement=null,this.nextPanelElement=null,this.prevPanelSize=null,this.nextPanelSize=null,this.gutterElement=null,this.prevPanelIndex=null}isNested(){if(this.el.nativeElement){let e=this.el.nativeElement.parentElement;for(;e&&!o.p.hasClass(e,"p-splitter");)e=e.parentElement;return null!==e}return!1}isStateful(){return null!=this.stateKey}getStorage(){switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}}saveState(){this.getStorage().setItem(this.stateKey,JSON.stringify(this._panelSizes))}restoreState(){const i=this.getStorage().getItem(this.stateKey);return!!i&&(this._panelSizes=JSON.parse(i),[...this.containerViewChild.nativeElement.children].filter(l=>o.p.hasClass(l,"p-splitter-panel")).forEach((l,c)=>{l.style.flexBasis="calc("+this._panelSizes[c]+"% - "+(this.panels.length-1)*this.gutterSize+"px)"}),!0)}containerClass(){return{"p-splitter p-component":!0,"p-splitter-horizontal":"horizontal"===this.layout,"p-splitter-vertical":"vertical"===this.layout}}panelContainerClass(){return{"p-splitter-panel":!0,"p-splitter-panel-nested":!0}}gutterStyle(){return this.horizontal()?{width:this.gutterSize+"px"}:{height:this.gutterSize+"px"}}horizontal(){return"horizontal"===this.layout}}v.\u0275fac=function(e){return new(e||v)(t.Y36(t.sBO),t.Y36(t.SBq))},v.\u0275cmp=t.Xpm({type:v,selectors:[["p-splitter"]],contentQueries:function(e,i,p){if(1&e&&t.Suo(p,g.jx,4),2&e){let l;t.iGM(l=t.CRH())&&(i.templates=l)}},viewQuery:function(e,i){if(1&e&&t.Gf(d,5),2&e){let p;t.iGM(p=t.CRH())&&(i.containerViewChild=p.first)}},hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(e,i){2&e&&t.ekj("p-splitter-panel-nested",i.nested)},inputs:{styleClass:"styleClass",panelStyleClass:"panelStyleClass",style:"style",panelStyle:"panelStyle",stateStorage:"stateStorage",stateKey:"stateKey",layout:"layout",gutterSize:"gutterSize",minSizes:"minSizes",panelSizes:"panelSizes"},outputs:{onResizeEnd:"onResizeEnd",onResizeStart:"onResizeStart"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],["ngFor","",3,"ngForOf"],[4,"ngTemplateOutlet"],["class","p-splitter-gutter",3,"ngStyle","mousedown","touchstart",4,"ngIf"],[1,"p-splitter-gutter",3,"ngStyle","mousedown","touchstart"],[1,"p-splitter-gutter-handle"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0,1),t.YNc(2,I,3,6,"ng-template",2),t.qZA()),2&e&&(t.Tol(i.styleClass),t.Q6J("ngClass",i.containerClass())("ngStyle",i.style),t.xp6(2),t.Q6J("ngForOf",i.panels))},dependencies:[r.mk,r.sg,r.O5,r.tP,r.PC],styles:[".p-splitter{display:flex;flex-wrap:nowrap}.p-splitter-vertical{flex-direction:column}.p-splitter-panel{flex-grow:1}.p-splitter-panel-nested{display:flex}.p-splitter-panel p-splitter{flex-grow:1}.p-splitter-panel .p-splitter{flex-grow:1;border:0 none}.p-splitter-gutter{flex-grow:0;flex-shrink:0;display:flex;align-items:center;justify-content:center;cursor:col-resize}.p-splitter-horizontal.p-splitter-resizing{cursor:col-resize;-webkit-user-select:none;user-select:none}.p-splitter-horizontal>.p-splitter-gutter>.p-splitter-gutter-handle{height:24px;width:100%}.p-splitter-horizontal>.p-splitter-gutter{cursor:col-resize}.p-splitter-vertical.p-splitter-resizing{cursor:row-resize;-webkit-user-select:none;user-select:none}.p-splitter-vertical>.p-splitter-gutter{cursor:row-resize}.p-splitter-vertical>.p-splitter-gutter>.p-splitter-gutter-handle{width:24px;height:100%}\n"],encapsulation:2,changeDetection:0});class f{}f.\u0275fac=function(e){return new(e||f)},f.\u0275mod=t.oAB({type:f,declarations:[v],imports:[r.ez],exports:[v,g.m8]}),f.\u0275inj=t.cJS({imports:[r.ez,g.m8]})}}]);