"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2532],{42532:(R,g,e)=>{e.r(g),e.d(g,{ConsultaRapidaPageModule:()=>V});var a=e(97582),r=e(98274),p=e(36895),c=e(24006),i=e(48058),d=e(92216),u=e(83111),h=e(35593),n=e(12453),v=e(21327),t=e(91795),m=e(1997),x=e(24382),P=e(51740),j=e(21493),D=e(85226),H=e(58949),z=e(91670),w=e(19197);let b=class{};b=(0,a.gn)([(0,r.LVF)({declarations:[],imports:[p.ez]})],b);let I=class{};I=(0,a.gn)([(0,r.LVF)({declarations:[],imports:[p.ez,w.j,b],exports:[w.j,b]})],I);var T=e(29),U=e(39528),F=e(15861);var O=e(50727),$=e(59136),B=e(18109),A=e(59149),N=e(64841),G=e(34758),M=e(29306);let f=class{constructor(s,o,l,C){this.usersService=s,this.imovelService=o,this.veiculosService=l,this.modal=C,this.searchedUser="",this.searchedVeiculo="",this.searchedImovel="",this.hasSearched=!1,this.subscriptions=new O.w0}ngOnInit(){}ngOnDestroy(){this.subscriptions.unsubscribe()}searchUser(s=1){this.hasSearched=!0;const o=this.usersService.listUsers({searchedUser:this.searchedUser,tipo_usuario:B.X.USUARIO},{order:$.L.DESC,page:s,take:10}).subscribe(l=>{this.users=l});this.subscriptions.add(o)}openUser(s){const{responsavel:o}=s;o&&o.length>=1?this.showModal(M.H,{user_id:o[0].user_responsavel.id}):this.showModal(M.H,{user_id:s.id})}searchVeiculo(s=1){this.hasSearched=!0;const o=this.veiculosService.list({searched_veiculo:this.searchedVeiculo},{order:$.L.DESC,page:s,take:10}).subscribe(l=>{this.veiculos=l});this.subscriptions.add(o)}openVeiculo(s){const{id:o}=s.responsavel;this.showModal(M.H,{user_id:o})}hasItem(s){return!!(s&&s.meta&&s.meta.itemCount>=1)}showModal(s,o){var l=this;return(0,F.Z)(function*(){const C=yield l.modal.create({component:s,backdropDismiss:!1,cssClass:"modal-size-100",componentProps:o});return C.onDidDismiss().then(K=>{}),yield C.present()})()}};f.ctorParameters=()=>[{type:G.K},{type:N.W},{type:A.e},{type:i.IN}],f=(0,a.gn)([(0,r.wA2)({selector:"app-consulta-rapida",template:'<ion-header [translucent]="true">\n  <ion-toolbar>\n    <ion-buttons slot="start">\n      <ion-menu-button></ion-menu-button>\n    </ion-buttons>\n    <ion-title>Cosulta R\xe1pida</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content appScrollTheme>\n\n  <div class="surface-section h-full">\n\n    <div id="usuario" class=" px-2 py-8 md:px-3 lg:px-8 flex align-items-center justify-content-center ">\n      <section class="w-30rem border-1 surface-border border-round-lg">\n        <div class="flex w-full align-items-center justify-content-between px-1">\n          <span class="p-input-icon-right w-full" (click)="searchedUserDialog = true">\n            <i class="pi pi-search text-500"></i>\n            <input type="text" pInputText placeholder="Pesquisa por morador, propriet\xe1rio ou dependente"\n              class="w-full border-none shadow-none outline-none" />\n          </span>\n        </div>\n      </section>\n  \n      <p-dialog [(visible)]="searchedUserDialog" [dismissableMask]="true" [modal]="true" [showHeader]="false"\n        [breakpoints]="{\'960px\': \'75vw\'}" [style]="{\'width\': \'50vw\', \'max-width\': \'750px\'}"\n        contentStyleClass="border-round-top p-0" appendTo="body" (onShow)="searchedUserInput.focus();"\n        (onHide)="searchedUserDialog = false;  searchedUser = \'\';  hasSearched = false;">\n        <div class="flex w-full surface-section align-items-center justify-content-between px-1">\n          <span class="p-input-icon-left w-full">\n            <input #searchedUserInput type="text" pInputText\n              placeholder="Pesquisa por morador, propriet\xe1rio ou dependente..." [(ngModel)]="searchedUser"\n              class="w-full border-none shadow-none outline-none" (keyup.enter)="searchUser()" />\n          </span>\n          <span class="border-1 p-1 surface-border border-round surface-100 mr-2 text-600 \n              text-xs  cursor-pointer">\n            <i class="pi pi-search" (click)="searchUser()"></i>\n          </span>\n        </div>\n  \n        <ng-container *ngIf="hasSearched">\n          <div *ngIf="hasItem(users)" class="flex flex-column border-primary">\n            <div class="w-full p-3">\n              <ul class="list-none m-0 p-0">\n                <li *ngFor="let user of users.data" class="flex justify-content-between align-items-center \n                  select-none p-2  font-normal text-base cursor-pointer border-round-lg \n                  hover:bg-primary hover:text-primary" (click)="openUser(user); searchedUserDialog = false">\n                  <span>{{ user.nome }} - {{ user.cpf | cpfMask }}</span>\n                  <i class="pi pi-chevron-right text-xs"></i>\n                </li>\n              </ul>\n            </div>\n          </div>\n  \n          <div *ngIf="!hasItem(users)" class="flex flex-column border-primary">\n            <div class="w-full p-3 ">\n              <ul class="list-none m-0 p-0">\n                <li class="flex justify-content-between align-items-center select-none p-2  \n                    font-normal text-base cursor-pointer border-round-lg hover:bg-primary hover:text-primary">\n                  <span>Nada encontrado</span>\n                  <i class="pi pi-times text-xs"></i>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </ng-container>\n  \n      </p-dialog>\n  \n    </div>\n  \n    <div id="veiculo" class="mt-4 px-2 py-4 md:px-3 lg:px-4 flex align-items-center justify-content-center">\n      <section class="w-30rem border-1 surface-border border-round-lg">\n        <div class="flex w-full align-items-center justify-content-between px-1">\n          <span class="p-input-icon-right w-full" (click)="searchedVeiculoDialog = true">\n            <i class="pi pi-search text-500"></i>\n            <input type="text" pInputText placeholder="Pesquisa por ve\xedculo"\n              class="w-full border-none shadow-none outline-none" />\n          </span>\n        </div>\n      </section>\n  \n      <p-dialog [(visible)]="searchedVeiculoDialog" [dismissableMask]="true" [modal]="true" [showHeader]="false"\n        [breakpoints]="{\'960px\': \'75vw\'}" [style]="{\'width\': \'50vw\', \'max-width\': \'750px\'}"\n        contentStyleClass="border-round-top p-0" appendTo="body" (onShow)="searchedVeiculoInput.focus();"\n        (onHide)="searchedVeiculoDialog = false;  searchedVeiculo = \'\';  hasSearched = false;">\n        <div class="flex w-full surface-section align-items-center justify-content-between px-1">\n          <span class="p-input-icon-left w-full">\n            <input #searchedVeiculoInput type="text" pInputText placeholder="Pesquisa por ve\xedculo"\n              [(ngModel)]="searchedVeiculo" class="w-full border-none shadow-none outline-none"\n              (keyup.enter)="searchVeiculo()" />\n          </span>\n          <span class="border-1 p-1 surface-border border-round surface-100 mr-2 text-600 \n              text-xs  cursor-pointer">\n            <i class="pi pi-search" (click)="searchVeiculo()"></i>\n          </span>\n        </div>\n  \n        <ng-container *ngIf="hasSearched">\n          <div *ngIf="hasItem(veiculos)" class="flex flex-column border-primary">\n            <div class="w-full p-3">\n              <ul class="list-none m-0 p-0">\n                <li *ngFor="let veiculo of veiculos.data" class="flex justify-content-between align-items-center \n                  select-none p-2  font-normal text-base cursor-pointer border-round-lg \n                  hover:bg-primary hover:text-primary"\n                  (click)="openVeiculo(veiculo); searchedVeiculoDialog = false">\n                  <span>{{ veiculo.placa }}</span>\n                  <i class="pi pi-chevron-right text-xs"></i>\n                </li>\n              </ul>\n            </div>\n          </div>\n  \n          <div *ngIf="!hasItem(veiculos)" class="flex flex-column border-primary">\n            <div class="w-full p-3 ">\n              <ul class="list-none m-0 p-0">\n                <li class="flex justify-content-between align-items-center select-none p-2 \n                    font-normal text-base cursor-pointer border-round-lg hover:bg-primary hover:text-primary">\n                  <span>Nada encontrado</span>\n                  <i class="pi pi-times text-xs"></i>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </ng-container>\n  \n      </p-dialog>\n  \n    </div>\n  </div>\n\n\n</ion-content>',styles:[""]})],f);const J=[{path:"",component:f}];let S=class{};S=(0,a.gn)([(0,r.LVF)({imports:[U.Bz.forChild(J)],exports:[U.Bz]})],S);let V=class{};V=(0,a.gn)([(0,r.LVF)({imports:[p.ez,c.u5,i.Pc,h.hJ,t.T,n.EV,v.$9,m.U,x.S,d.uH,P.j,j.S,u.t,D.o,H.d,T.R,z.A,I,S],declarations:[f]})],V)},29:(R,g,e)=>{e.d(g,{R:()=>u});var a=e(97582),r=e(98274),p=e(36895);let c=class{transform(n,...v){if("string"==typeof n&&11==n.trim().length){let t=n.replace(/\D/g,"");return t=t.replace(/(\d{3})(\d)/,"$1.$2"),t=t.replace(/(\d{3})(\d)/,"$1.$2"),t=t.replace(/(\d{3})(\d{1,2})$/,"$1-$2"),t}return n}};c=(0,a.gn)([(0,r.E6H)({name:"cpfMask"})],c);let i=class{transform(n,...v){return n}};i=(0,a.gn)([(0,r.E6H)({name:"cepMask"})],i);let d=class{transform(n,...v){if(!n)return"";const t=n.substring(0,2),m=n.substring(2,3),x=n.substring(3,7),P=n.substring(7,11);return n.length<=2?`(${t})`:n.length<=3?`(${t})${m}`:n.length<=7?`(${t})${m} ${x}`:`(${t})${m} ${x}-${P}`}};d=(0,a.gn)([(0,r.E6H)({name:"phoneMask"})],d);let u=class{};u=(0,a.gn)([(0,r.LVF)({declarations:[c,i,d],imports:[p.ez],exports:[c,i,d]})],u)}}]);